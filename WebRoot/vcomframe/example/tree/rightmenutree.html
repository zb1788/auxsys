<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
	<head>
		<title>customtree.html</title>
		<meta http-equiv="content-type" content="text/html; charset=UTF-8">
		<link rel="stylesheet" type="text/css" href="vcomframe/css/main.css"/>
		<link rel="stylesheet" id="ext-all-css" type="text/css" href="vcomframe/ext/resources/css/ext-all.css" />
		<style>
		.delete-icon {
		    background-image:url(vcomframe/images/rss_delete.gif) !important;
		}
		.load-icon {
		    background-image:url(vcomframe/images/rss_load.gif) !important;
		}
		.add-feed {
		    background-image: url(vcomframe/images/rss_add.gif) !important;
		}
		</style>
	</head>

	<body>
		<div id="loading-mask"></div>
		<div id="loading">
			<div class="loading-indicator">
				<img src="vcomframe/images/extanim32.gif" width="32" height="32"
					style="margin-right:8px;" align="absmiddle" />
				页面加载中，请稍后...
			</div>
		</div>
		<script type="text/javascript" src="vcomframe/ext/adapter/ext/ext-base.js"></script>
		<script type="text/javascript" src="vcomframe/ext/ext-all.js"></script>
	    <script type="text/javascript" src="vcomframe/ext/windows.js"></script>
	    <script type="text/javascript" src="vcomframe/ext/tree.js"></script>
	    <script type="text/javascript">
			var id=100;
			Ext.onReady(function(){
					var west=new Ext.Panel({
			        region:"west",
			        width:200,
			        minSize:0,
			        maxSize:200,
			        split:true,        
			        collapsible: true,
			        title:"带右键菜单",
			        autoScroll:true,
			        html:'<div id="menuTree" style="padding:5px 3px;"></div>',
			        collapsed:false
			    });
				var center=new Ext.Panel({
						region:'center',
			            title: '内容区域',
			            collapsible: true,
			            split:true,
			            width: 225,
			            minSize: 175,
			            maxSize: 300,
			            layout:'fit',
			            margins:'0 0 0 0',
			            items:new Ext.BoxComponent({
							el: 'center',
							height:'100%'
						})    
				});
				var viewport = new Ext.Viewport({
					layout:"border",
					items:[center,west]
				});
			});
			var treejson= [{text:"信息中心",icon:"vcomframe\/images\/im2.gif",depth:1,parentid:0,leaf:false,draggable:false,id:1,children:[{text:"右键菜单",href:"rightmenu.html",icon:"vcomframe\/images\/im2.gif",depth:3,parentid:1,leaf:true,draggable:false,id:25,children:[]},{text:"grid数据显示方式二",href:"articleGridManage1.action",icon:"vcomframe\/images\/im2.gif",depth:2,parentid:1,leaf:true,draggable:false,id:26,children:[]},{text:"样式文件",href:"css.jsp",icon:"vcomframe\/images\/im2.gif",depth:2,parentid:1,leaf:true,draggable:false,id:6,children:[]},{text:"ext数据表格",href:"articleGridManage.action",icon:"vcomframe\/images\/im2.gif",depth:2,parentid:1,leaf:true,draggable:false,id:5,children:[]},{text:"信息征集",icon:"vcomframe\/images\/im2.gif",depth:2,parentid:1,leaf:false,draggable:false,id:4,children:[{text:"异步加载测试",icon:"vcomframe\/images\/im2.gif",depth:3,parentid:4,leaf:true,draggable:false,id:23,children:[]},{text:"异步加载测试",icon:"vcomframe\/images\/im2.gif",depth:3,parentid:4,leaf:true,draggable:false,id:22,children:[]},{text:"异步加载测试",icon:"vcomframe\/images\/im2.gif",depth:3,parentid:4,leaf:true,draggable:false,id:21,children:[]},{text:"异步加载测试",icon:"vcomframe\/images\/im2.gif",depth:3,parentid:4,leaf:true,draggable:false,id:20,children:[]},{text:"异步加载测试",icon:"vcomframe\/images\/im2.gif",depth:3,parentid:4,leaf:true,draggable:false,id:19,children:[]},{text:"异步加载测试",icon:"vcomframe\/images\/im2.gif",depth:3,parentid:4,leaf:true,draggable:false,id:17,children:[]},{text:"异步加载测试",icon:"vcomframe\/images\/im2.gif",depth:3,parentid:4,leaf:true,draggable:false,id:16,children:[]},{text:"异步加载测试",icon:"vcomframe\/images\/im2.gif",depth:3,parentid:4,leaf:true,draggable:false,id:15,children:[]},{text:"异步加载测试",icon:"vcomframe\/images\/im2.gif",depth:3,parentid:4,leaf:true,draggable:false,id:14,children:[]},{text:"异步加载测试",icon:"vcomframe\/images\/im2.gif",depth:3,parentid:4,leaf:true,draggable:false,id:13,children:[]},{text:"异步加载测试",icon:"vcomframe\/images\/im2.gif",depth:3,parentid:4,leaf:true,draggable:false,id:12,children:[]},{text:"异步加载测试",icon:"vcomframe\/images\/im2.gif",depth:3,parentid:4,leaf:true,draggable:false,id:11,children:[]},{text:"信息文章列表",href:"articleManage.action",icon:"vcomframe\/images\/im2.gif",depth:3,parentid:4,leaf:true,draggable:false,id:8,children:[]},{text:"发布信息文章",href:"addarticle.html",icon:"vcomframe\/images\/im2.gif",depth:3,parentid:4,leaf:true,draggable:false,id:7,children:[]}]}]},{text:"系统应用",icon:"vcomframe\/images\/im2.gif",depth:1,parentid:0,leaf:false,draggable:false,id:2,children:[{text:"系统帮助",href:"http:\/\/www.baidu.com",icon:"vcomframe\/images\/im2.gif",depth:2,parentid:2,leaf:false,draggable:false,id:9,children:[{text:"系统帮助",icon:"vcomframe\/images\/im2.gif",depth:3,parentid:9,leaf:true,draggable:false,id:24,children:[]}]}]},{text:"系统设置",icon:"vcomframe\/images\/im2.gif",depth:1,parentid:0,leaf:false,draggable:false,id:3,children:[{text:"设置帮助",href:"http:\/\/www.baidu.com",icon:"vcomframe\/images\/im2.gif",depth:2,parentid:3,leaf:true,draggable:false,id:10,children:[]}]}]
			//可加载右键菜单，动态添加修改的树
			var activetree=new activetree('menuTree',treejson,toclick,rightclicks);
				var nodes;
				//点击右键触发的事件
				function rightclicks(node,event){
					nodes=node;//把点击的节点定义为公共变量
					event.preventDefault();
					//加载右键菜单
			        rightClick.showAt(event.getXY());
				}
				//点击左键触发的事件
				function toclick(node,event){
					event.stopEvent();
					alert(node.childNodes.length);
				}
				//加载右键菜单
				var rightClick = new Ext.menu.Menu({
			        id :'rightClickCont',
			        items : [{
			            id:'rMenu1',
			            text : '添加',
			            iconCls:'add-feed',
			            //增加菜单点击事件
			            handler:function (){
			            	var json={text:"信息中心",icon:"vcomframe\/images\/im2.gif",depth:1,parentid:0,leaf:true,draggable:false,id:id++};
			            	activetree.addnode(nodes,json);
			            }
			        }, {
			            id:'rMenu2',
			            iconCls:'delete-icon',
			            text : '删除',
			            handler:function (){
			                activetree.delnode(nodes);
			            }
			        }, '-',{
			            id:'rMenu3',
			            iconCls:'load-icon',
			            text : '菜单3'
			        }]
		});
		</script>
		<div id="center">
			ddddd
		</div>
		<div id="east">
		</div>
	</body>
</html>
