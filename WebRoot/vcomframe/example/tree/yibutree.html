<%@ page language="java" import="java.util.*" pageEncoding="utf-8"%>
<%@taglib  prefix="s" uri="/struts-tags"%>
<%
	String path = request.getContextPath();
%>
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
	<head>
		<title>customtree.html</title>
		<meta http-equiv="content-type" content="text/html; charset=UTF-8">
		<link rel="stylesheet" type="text/css" href="<%=path %>/ext/resources/css/ext-all.css" />
		<link rel="stylesheet" type="text/css" href="<%=path %>/etc/css/main.css"/>
		<link rel="stylesheet" type="text/css" href="<%=path %>/etc/css/common.css" />
	</head>

	<body>
		<div id="loading-mask"></div>
		<div id="loading">
			<div class="loading-indicator">
				<img src="<%=path %>/etc/images/extanim32.gif" width="32" height="32"
					style="margin-right:8px;" align="absmiddle" />
				页面加载中，请稍后...
			</div>
		</div>
		<script type="text/javascript" src="<%=path %>/ext/adapter/ext/ext-base.js"></script>
		<script type="text/javascript" src="<%=path %>/ext/ext-all.js"></script>
	    <script type="text/javascript" src="<%=path %>/etc/js/windows.js"></script>
	    <script type="text/javascript" src="<%=path %>/etc/js/tree.js"></script>
	    <script type="text/javascript">
	    Ext.BLANK_IMAGE_URL = '<%=path %>/etc/images/s.gif';
			Ext.onReady(function(){
					var west=new Ext.Panel({
			        region:"west",
			        width:200,
			        minSize:0,
			        maxSize:200,
			        split:true,        
			        collapsible: true,
			        title:"异步加载树",
			        autoScroll:true,
			        html:'<div id="menuTree" style="padding:5px 3px"></div>',
			        collapsed:false
			    });
				var center=new Ext.Panel({
						region:'center',
			            title: '内容区域',
			            collapsible: true,
			            split:true,
			            width: 225,
			            minSize: 175,
			            maxSize: 300,
			            layout:'fit',
			            margins:'0 0 0 0',
			            items:new Ext.BoxComponent({
							el: 'center',
							height:'100%'
						})    
				});
				var viewport = new Ext.Viewport({
					layout:"border",
					items:[center,west]
				});
			});
			var treejson= [{text:"信息中心",icon:"..\/etc\/images\/im2.gif",depth:1,parentid:0,leaf:false,draggable:false,id:1},{text:"系统应用",icon:"..\/etc\/images\/im2.gif",depth:1,parentid:0,leaf:false,draggable:false,id:2},{text:"系统设置",icon:"..\/etc\/images\/im2.gif",depth:1,parentid:0,leaf:false,draggable:false,id:3}];
			//普通树，不支持右键添加删除，支持异步加载和延迟加载
			var customtree=new customtree('menuTree',2,treejson,'<%=path %>/tree.action',toclick);
				//点击触发的事件
				function toclick(node,event){
					event.stopEvent();
					alert(node.attributes.leaf);
				}
		</script>
		<div id="center">
			ddddd
		</div>
		<div id="east">
		</div>
	</body>
</html>
