function Multiselect(id,data,legend,width,height,functions,text1,text2,type){this.id=id;this.width=width;this.height=height;this.text1=text1;this.text2=text2;this.data=data;if(type==1){var dataarray=[];for(var i=0;i<this.data.length;i++)if(this.text1&&this.text2)dataarray[i]=[eval(this.data[i]+"."+this.text1),eval(this.data[i]+"."+this.text2)];else dataarray[i]=[this.data[i].value,this.data[i].text];this.data=dataarray}this.functions=functions;this.legend=legend;this.formMultiselect=null;var _this=this;Ext.onReady(function(){Ext.QuickTips.init();Ext.form.Field.prototype.msgTarget="side";_this.formMultiselect=new Ext.ux.Multiselect({labelSeparator:"",name:"multiselect",dataFields:["code","desc"],data:_this.data,valueField:"code",displayField:"desc",width:_this.width||250,height:_this.height||200,allowBlank:true,legend:_this.legend});_this.formMultiselect.render(_this.id);if(typeof(_this.functions)!="function")_this.functions=function($,A,_){};_this.formMultiselect.on("dblclick",function($,A,_){_this.functions(_this.formMultiselect.getValue(),A)})});Multiselect.prototype.getValues=function(){return this.formMultiselect.getValue()};Multiselect.prototype.setValues=function($){return this.formMultiselect.setValue($)}}function Multiselecttwo(id,data,todata,toLegend,fromLegend,width,height,functions,text1,text2,type){this.id=id;this.width=width;this.height=height;this.data=data;this.todata=todata;if(type==1){var dataarray=[];for(var i=0;i<this.data.length;i++)if(this.text1&&this.text2)dataarray[i]=[eval(this.data[i]+"."+this.text1),eval(this.data[i]+"."+this.text2)];else dataarray[i]=[this.data[i].value,this.data[i].text];this.data=dataarray;var todataarray=[];for(i=0;i<this.todata.length;i++)if(this.text1&&this.text2)todataarray[i]=[eval(this.todata[i]+"."+this.text1),eval(this.todata[i]+"."+this.text2)];else todataarray[i]=[this.todata[i].value,this.todata[i].text];this.todata=todataarray}this.fromLegend=fromLegend;this.functions=functions;this.toLegend=toLegend;this.formItemSelector=null;var _this=this;Ext.onReady(function(){Ext.QuickTips.init();Ext.form.Field.prototype.msgTarget="side";_this.formItemSelector=new Ext.ux.ItemSelector({xtype:"itemselector",name:"itemselector",labelSeparator:"",dataFields:["code","desc"],fromData:_this.data,toData:_this.todata,msWidth:_this.width||250,autoScroll:true,msHeight:_this.hength||200,valueField:"code",displayField:"desc",toLegend:_this.toLegend||"\u5df2\u9009\u680f",fromLegend:_this.fromLegend||"\u53ef\u9009\u680f"});_this.formItemSelector.render(_this.id);if(typeof(_this.functions)!="function")_this.functions=function($,A,_){};_this.formItemSelector.on("rowdblclick",function($,A,_,B){_this.functions($.store.getAt(A).get("code"),A,_,B)})});Multiselecttwo.prototype.getValues=function(){return this.formItemSelector.getValue()};Multiselecttwo.prototype.setValues=function($){return this.formItemSelector.setValue($)}}